CREATE  TABLE accesos.usuarios ( 
	identificador        INT UNSIGNED NOT NULL     PRIMARY KEY,
	nombre               VARCHAR(30)  NOT NULL     ,
	apellido_p           VARCHAR(30)  NOT NULL     ,
	apellido_m           VARCHAR(30)  NOT NULL     ,
	matricula            INT UNSIGNED NOT NULL     ,
	tipo_usuario         VARCHAR(30)  NOT NULL     ,
	contrase√±a           VARCHAR(20)  NOT NULL     
 ) engine=InnoDB;

ALTER TABLE accesos.usuarios MODIFY identificador INT UNSIGNED NOT NULL   COMMENT 'id de la tarjeta rfid';




CREATE  TABLE accesos.accesos ( 
	id                   INT UNSIGNED NOT NULL   AUTO_INCREMENT  PRIMARY KEY,
	fecha_acceso         TIMESTAMP  NOT NULL     ,
	id_profesor          INT UNSIGNED NOT NULL     
 ) engine=InnoDB;

ALTER TABLE accesos.accesos ADD CONSTRAINT profesor FOREIGN KEY ( id_profesor ) REFERENCES accesos.usuarios( identificador ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE accesos.accesos COMMENT 'tabla de accesos de los profesores';




CREATE  TABLE accesos.clases ( 
	id                   INT UNSIGNED NOT NULL   AUTO_INCREMENT  PRIMARY KEY,
	nombre_materia       VARCHAR(30)  NOT NULL     ,
	salon                VARCHAR(10)  NOT NULL     ,
	horario              VARCHAR(20)  NOT NULL     ,
	id_profesor          INT UNSIGNED NOT NULL     
 ) engine=InnoDB;

ALTER TABLE accesos.clases ADD CONSTRAINT profesor FOREIGN KEY ( id_profesor ) REFERENCES accesos.usuarios( identificador ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE accesos.clases COMMENT 'Las clases y horario de los profesores';